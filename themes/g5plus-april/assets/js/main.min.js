!function(i){"use strict";var e=window.G5_Main||{};window.G5_Main=e;var n=i(window),t=i("body"),s=t.hasClass("rtl");e.blog={init:function(){this.readingProcess(),this.processTabs()},readingProcess:function(){var e=i("#gsf-reading-process"),t=i(".single-post .gf-single-wrap .post-single");e.length>0&&t.length>0&&t.imagesLoaded(function(){var i=t.height(),s=n.height(),o=0,a=t.offset().top,r=n.scrollTop();r>a&&(o=100*(r-a)/(i-s)),o>100&&(o=100),e.css("width",o+"%"),n.scroll(function(){var o=0,a=t.offset().top,r=n.scrollTop();r>a&&(o=100*(r-a)/(i-s)),o>100&&(o=100),e.css("width",o+"%")})})},processTabs:function(){i(".gsf-pretty-tabs").each(function(){var e=i(this);e.closest("[data-items-wrapper]").find(".nav-top-right").length>0&&i(this).closest("[data-items-wrapper]").find(".nav-top-right").on("owlInitialized",function(){var n=i(this).children(".owl-nav").outerWidth();s?e.css("margin-left",n+30):e.css("margin-right",n+30),e.gsfPrettyTabs()})})}},e.header={init:function(){this.login_link_event()},login_link_event:function(){i(".gsf-login-link-sign-in, .gsf-login-link-sign-up").off("click").on("click",function(e){e.preventDefault();var n="gsf_user_login",s=null;i(this).hasClass("gsf-login-link-sign-up")&&(n="gsf_user_sign_up");var o="#gsf-popup-login-wrapper";t.addClass("overflow-hidden"),t.append('<div class="processing-title"><i class="fa fa-spinner fa-spin fa-fw"></i></div>'),i.ajax({type:"POST",data:"action="+n,url:g5plus_variable.ajax_url,success:function(e){i(".processing-title").fadeOut(function(){i(".processing-title").remove(),t.removeClass("overflow-hidden")}),i(o).length&&i(o).remove(),t.append(e),i(o).modal(),i("#gsf-popup-login-form").submit(function(e){s=null;var n=i(e.target).find('[type="submit"]');n.hasClass("ladda-button")&&n.length>0&&(s=Ladda.create(n[0])).start();var o=i("#gsf-popup-login-form").serialize();return t.addClass("overflow-hidden"),t.append('<div class="processing-title"><i class="fa fa-spinner fa-spin fa-fw"></i></div>'),jQuery.ajax({type:"POST",data:o,url:g5plus_variable.ajax_url,success:function(e){i(".processing-title").fadeOut(function(){i(".processing-title").remove(),t.removeClass("overflow-hidden")});var n=jQuery.parseJSON(e);n.code<0?jQuery(".login-message","#gsf-popup-login-form").html(n.message):window.location.reload(),null!==s&&(s.stop(),s.remove())},error:function(e){i(".processing-title").fadeOut(function(){i(".processing-title").remove(),t.removeClass("overflow-hidden")}),null!==s&&(s.stop(),s.remove())}}),e.preventDefault(),!1})},error:function(e){i(".loading-wrapper").fadeOut(function(){i(".loading-wrapper").remove(),t.removeClass("overflow-hidden")})}})})}},e.page={init:function(){this.rowEqualHeight(),this.events()},rowEqualHeight:function(){i(".row-equal-height").each(function(){var e=i(".gsf-product-singular",i(this)),n=i(".product-info",e).outerHeight(),t=i(".gf-banner",i(this)),s=i(".gf-banner-bg",t);if(G5_Core.util.isDesktop()){var o=i(".image-item",i(".product-singular-images",e)),a=o.outerHeight(),r=n+a;s.css("padding-bottom",r+"px"),i(".product-singular-images",e).on("owlInitialized",function(){o=i(".image-item",i(this)),a=o.outerHeight(),r=n+a,s.css("padding-bottom",r+"px")})}else s.css("padding-bottom","")})},events:function(){i(window).on("resize",function(){setTimeout(function(){e.page.rowEqualHeight()},500)})}},i(document).ready(function(){e.blog.init(),e.header.init(),e.page.init()})}(jQuery);